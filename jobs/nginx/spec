---
name: nginx
templates:
  nginx_ctl.sh.erb: bin/nginx_ctl
  nginx.conf.erb: etc/nginx.conf
  cf-default-apps-domain.conf.erb: etc/cf-default-apps-domain.conf
  cf-default-apps-domain-cert.crt.bundle.erb: etc/cf-default-apps-domain-cert.crt.bundle
  cf-default-apps-domain-cert.key.erb: etc/cf-default-apps-domain-cert.key
  shared.conf.erb: etc/shared.conf
  shared_host_wss.conf.erb: etc/shared_host_wss.conf
  upstream.conf.erb: etc/upstream.conf
  pre-start.erb: bin/pre-start
  ssh-proxy.conf.erb: etc/ssh-proxy.conf

packages:
- nginx

properties:
  a9s_ssl_gateway.default_apps_domain_ca_cert:
    description: 'SSL ca certificate for the shared app domain'
  a9s_ssl_gateway.default_apps_domain_cert:
    description: 'SSL certificate for the shared app domain'
  a9s_ssl_gateway.default_apps_domain_cert_key:
    description: 'private key for the shared app domain certificate'
  a9s_ssl_gateway.domain_blacklist:
    description: 'Blacklisted app domains'
  a9s_ssl_gateway.default_apps_domain:
    description: 'The shared app dommain for the Cloud Foundry instance'
  a9s_ssl_gateway.cf_routers:
    description: 'array with ip addresses of the cf routers'
  a9s_ssl_gateway.failover_ip:
    description: 'public ip of the keepalived, if any, if this value is set, the network gateway nodes are not optional'
  a9s_ssl_gateway.z1.network_address:
    description: 'network address of the  z1 network, optional if failover_ip is nil'
    default: ""
  a9s_ssl_gateway.z2.network_address:
    description: 'network address of the z2 network, optional if failover_ip is nil'
    default: ""
  a9s_ssl_gateway.z3.network_address:
    description: 'network address of the  z3 network, optional if failover_ip is nil'
    default: ""
  a9s_ssl_gateway.ssh_routers:
    description: 'ssh upstream servers (access vms)'